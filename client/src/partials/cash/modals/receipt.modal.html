<div class="modal-header">
  <h3>{{ "CASH.VOUCHER.RECEIPTS_TITLE" | translate }} <small>#{{ CashReceiptModalCtrl.receipt.reference }}</small></h3>
</div>

<div class="modal-body" data-cash-receipt-modal>

  <!-- warn the client if not debtor id has been passed in -->
  <p ng-show="CashReceiptModalCtrl.HttpError" class="text-danger text-center">
    <span class="glyphicon glyphicon-alert"></span>
    {{ CashReceiptModalCtrl.HttpError | translate }}
  </p>

  <div ng-show="CashReceiptModalCtrl.loading" class="text-center">
    <span class="glyphicon glyphicon-refresh"></span> {{ "FORM.INFOS.LOADING" | translate }}
  </div>

  <div ng-hide="CashReceiptModalCtrl.loading">
    <div class="row">

      <!-- the enterprise address information -->
      <div class="col-xs-6">
        <address>
          <strong>{{ CashReceiptModalCtrl.enterprise.name }}</strong> <br />
          {{ CashReceiptModalCtrl.enterprise.email }} <br />
          <abbr title="{{ 'FORM.LABELS.POST_OFFICE_BOX' | translate }}">{{ "FORM.LABELS.PO_BOX" | translate }}</abbr>: {{ CashReceiptModalCtrl.enterprise.po_box }} <br />
          <abbr title="{{ 'FORM.LABELS.TELEPHONE' | translate }}">{{ "FORM.LABELS.TEL" | translate }}</abbr>: {{ CashReceiptModalCtrl.enterprise.phone | telephone }} <br />
        </address>
      </div>

      <!-- the patient's billing information -->
      <div class="col-xs-6">
        <strong class="text-capitalize">{{ CashReceiptModalCtrl.patient.label }}</strong> <br />
        {{ "FORM.LABELS.CLIENT_ID" | translate }}: {{ CashReceiptModalCtrl.patient.abbr + CashReceiptModalCtrl.patient.reference }} <br />
        {{ "FORM.LABELS.DATE" | translate }}: {{ CashReceiptModalCtrl.receipt.date | date }} <br />
      </div>
    </div>

    <hr />

    <!-- generic receipt information -->
    <div class="row">

      <div class="col-xs-6">
        <div>
          <u>{{ "FORM.LABELS.TYPE" | translate }}</u>:
          {{ (CashReceiptModalCtrl.receipt.is_caution ? "FORM.LABELS.CAUTION" : "FORM.LABELS.INVOICE") | translate }}
        </div>

        <div>
          <u>{{ "FORM.LABELS.CASHIER" | translate }}</u>:
            {{ CashReceiptModalCtrl.user.first }} {{ CashReceiptModalCtrl.user.last }}
        </div>

        <div ng-show="CashReceiptModalCtrl.receipt.canceled">
          <!-- translate: "Status" -->
          <u>{{ "FORM.LABELS.STATUS" | translate }}</u>:
          <span class="glyphicon glyphicon-remove-sign text-danger"></span> {{ "FORM.LABELS.CANCELED" | translate }}
        </div>
      </div>

      <div class="col-xs-6">
        <div>
          <u>{{ "FORM.LABELS.CASHBOX" | translate }}</u>:
          {{ CashReceiptModalCtrl.cashbox.text }}
        </div>

        <div ng-show="CashReceiptModalCtrl.receipt.description">
          <u>{{ "FORM.LABELS.NOTES" | translate }}</u>:
          {{ CashReceiptModalCtrl.receipt.description }}
        </div>

        <div>
          <!-- translate: transaction currency -->
          <u>{{ "FORM.LABELS.CURRENCY" | translate }}</u>:
          {{ CashReceiptModalCtrl.fmtCurrency(CashReceiptModalCtrl.receipt.currency_id) }}
        </div>
      </div>
    </div>

      </fieldset>
    </form>

    <hr />

    <dl class="dl-horizontal">
      <dt ng-hide="CashReceiptModalCtrl.receipt.is_caution">
        {{ "FORM.LABELS.TOTAL_BILLED" | translate }}
      </dt>
      <dd ng-hide="CashReceiptModalCtrl.receipt.is_caution">
        {{ CashReceiptModalCtrl.receipt.amount | currency:CashReceiptModalCtrl.enterprise.currency_id }}
      </dd>
      <dt ng-hide="CashReceiptModalCtrl.isEnterpriseCurrency(CashReceiptModalCtrl.receipt.currency_id)">
        {{ "FORM.LABELS.EXCHANGE_RATE" | translate }}
      </dt>
      <dd ng-hide="CashReceiptModalCtrl.isEnterpriseCurrency(CashReceiptModalCtrl.receipt.currency_id)">
        {{ CashReceiptModalCtrl.rate | currency:CashReceiptModalCtrl.receipt.currency_id }}
      </dd>
      <dt>{{ "FORM.LABELS.TOTAL_PAID" | translate }}</dt>
      <dd>{{ CashReceiptModalCtrl.receipt.total | currency:CashReceiptModalCtrl.receipt.currency_id }}</dd>
    </dl>
  </div>
</div>

<div class="modal-footer">
  <button  class="pull-left btn btn-default" ng-click="CashReceiptModalCtrl.cancel()">
    {{ "FORM.BUTTONS.CANCEL" | translate }}
  </button>

  <button  class="pull-right btn btn-primary" ng-click="CashReceiptModalCtrl.print()">
    <i class="glyphicon glyphicon-print"></i>
    {{ "FORM.BUTTONS.PRINT" | translate }}
  </button>
  <div class="clearfix"></div>
</div>
