<form 
  name="FindForm"
  bh-submit="$ctrl.submit(FindForm)"
  bh-form-defaults
  novalidate>

  <div class="modal-header space-between">
    <div class="headercrumb">
      <i class="fa fa-tags"></i> 
      <span translate>FORM.LABELS.LOTS_DEFINITION</span>
    </div>

    <div class="toolbar">
      <div class="toolbar-item">
        <button type="button"
          ng-click="$ctrl.addLot()"
          class="btn btn-default">
          <span class="fa fa-plus"></span>
        </button>
      </div>
    </div>
  </div>

  <div class="modal-body clearfix">
    <h3 style="margin: 0px;">{{ $ctrl.inventory.inventory.label }}</h3>

    <h4><span translate>FORM.LABELS.GLOBAL_QUANTITY</span>: 
      {{ $ctrl.inventory.quantity }}
    </h4>

    <h4><span translate>STOCK.UNIT_COST</span>: 
      {{ $ctrl.inventory.unit_cost | currency: $ctrl.enterprise.currency_id }}
    </h4>

    <div ng-if="$ctrl.maxLotReached" class="text-warning">
      <i class="fa fa-warning"></i> 
      <span translate>FORM.INFO.MAX_LOT_REACHED</span>
    </div>

    <div class="row">
      <div class="col-xs-12">
        <div
          id="LotsGrid"
          ui-grid="$ctrl.gridOptions"
          ui-grid-auto-resize
          ui-grid-resize-columns>
        </div>
        <bh-grid-loading-indicator
          loading-state="$ctrl.loading"
          empty-state="$ctrl.gridOptions.data.length === 0"
          error-state="$ctrl.hasError">
        </bh-grid-loading-indicator>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-default" ng-click="$ctrl.cancel()" data-method="cancel" translate>
      FORM.BUTTONS.CLOSE
    </button>

    <bh-loading-button loading-state="FindForm.$loading">
      <span translate>FORM.BUTTONS.SUBMIT</span>
    </bh-loading-button>
  </div>

</form>