<form
  name="ModalForm"
  ng-submit="$ctrl.submit(ModalForm)"
  data-modal="stock-lots-search"
  bh-form-defaults
  novalidate>

  <div class="modal-header">
    <ol class="headercrumb">
      <li class="static" translate>STOCK.MOVEMENTS</li>
      <li class="title" translate>FORM.LABELS.SEARCH</li>
    </ol>
  </div>

  <div class="modal-body">

    <!-- movements  -->
    <div class="form-group">
      <fieldset>
        <legend translate>STOCK.MOVEMENTS</legend>

        <label class="control-label">
          <input type="radio" name="is_exit" value="0" ng-model="$ctrl.bundle.is_exit"> 
          <span translate>STOCK.INPUT</span>
        </label> &nbsp; 

        <label class="control-label">
          <input type="radio" name="is_exit" value="1" ng-model="$ctrl.bundle.is_exit"> 
          <span translate>STOCK.OUTPUT</span>
        </label> &nbsp;
      </fieldset>
    </div>

    <!-- depot -->
    <div class="form-group">
      <label class="control-label" translate>STOCK.DEPOT</label>

      <ui-select name="depot" ng-model="$ctrl.bundle.depot_uuid">
        <ui-select-match>
          <span>{{$select.selected.text}}</span>
        </ui-select-match>
        <ui-select-choices ui-select-focus-patch repeat="depot as depot in $ctrl.depots | filter:{ 'text': $select.search }">
          <span ng-bind-html="depot.text | highlight:$select.search"></span>
        </ui-select-choices>
      </ui-select>
    </div>

    <!-- inventory -->
    <div class="form-group">
      <label class="control-label" translate>STOCK.INVENTORY</label>

      <ui-select name="inventory" ng-model="$ctrl.bundle.inventory_uuid">
        <ui-select-match>
          <span>{{$select.selected.label}}</span>
        </ui-select-match>
        <ui-select-choices ui-select-focus-patch repeat="inventory as inventory in $ctrl.inventories | filter:{ 'label': $select.search }">
          <span ng-bind-html="inventory.label | highlight:$select.search"></span>
        </ui-select-choices>
      </ui-select>
    </div>

    <!-- lot number  -->
    <div class="form-group">
      <label class="control-label" translate>STOCK.LOT</label>
      <input type="text" class="form-control" name="label" ng-model="$ctrl.bundle.label">
    </div>

    <!-- movements flux -->
    <div class="form-group">
      <label class="control-label" translate>STOCK.FLUX</label>

      <ui-select name="inventory" ng-model="$ctrl.bundle.flux_id">
        <ui-select-match>
          <span translate>{{$select.selected.label}}</span>
        </ui-select-match>
        <ui-select-choices ui-select-focus-patch repeat="flux as flux in $ctrl.fluxes | filter:{ 'label': $select.search }">
          <span ng-bind-html="flux.label | translate | highlight:$select.search"></span>
        </ui-select-choices>
      </ui-select>
    </div>

    <!-- date -->
    <fieldset>
      <legend translate>FORM.LABELS.DATE</legend>
      <bh-date-interval
        date-id="date" date-from="$ctrl.bundle.dateFrom" date-to="$ctrl.bundle.dateTo" mode="clean">
      </bh-date-interval>
    </fieldset>

  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-default" ng-click="$ctrl.cancel()" data-method="cancel" translate> 
      FORM.BUTTONS.CLOSE
    </button>
    <button type="submit" class="btn btn-primary" data-method="submit" translate> 
      FORM.BUTTONS.SUBMIT
    </button>
  </div>
</form>
