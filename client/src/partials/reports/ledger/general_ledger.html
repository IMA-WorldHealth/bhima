<header data-header>
  {{ "REPORT.GENERAL_LEDGER_REPORT" | translate }}
</header>

<nav>
  <div class="pull-left dropdown">
    <button type="button" class="btn btn-sm btn-default dropdown-toggle">
      <span class="glyphicon glyphicon-list-alt"></span> {{ "REPORT.GROUP_ROWS" | translate }}
    </button>
    <ul class="dropdown-menu">
      <li><a class="clk" ng-click="groupByTransaction()"><i class="glyphicon glyphicon-th-list"></i> {{ 'POSTING_JOURNAL.TRANSACTION' | translate }}</a></li>
      <li><a class="clk" ng-click="groupByAccount()"><i class="glyphicon glyphicon-euro"></i> {{ 'POSTING_JOURNAL.ACCOUNT' | translate }}</a></li>
      <li><a class="clk" ng-click="clearGrouping()"><i class="glyphicon glyphicon-remove"></i> {{ 'GRID.ABOLISH_GROUPS' | translate }}</a></li>
    </ul>
  </div>

  <div class="pull-left dropdown input-group col-xs-4">
    <span class="input-group-btn dropdown-toggle" style="background : white;">
      <button class="btn btn-sm btn-default" type="button" ng-class="{'active': !!filter.by && !!filter.param }">
        <span class="glyphicon glyphicon-filter"></span>
        <span class="caret" data-caret="&#9660;"></span>
        {{ filter.by.name }}
      </button>
    </span>

    <input class="form-bhima" ng-model="filter.param" ng-change="updateFilter()">

    <ul class="dropdown-menu">
      <li ng-repeat="column in columns">
        <a ng-click="filterBy(column)" class="clk">{{ column.name }}</a>
      </li>
      <li>
        <a ng-click="clearFilter()" class="clk" ><i class="glyphicon glyphicon-remove"></i> {{ 'GRID.CLEAR' | translate }}</a>
      </li>
    </ul>
  </div>

  <div class="pull-left">
    <span class="btn-group">

      <button class="btn btn-sm btn-default">
        {{ (selected.key | translate) || "..." }}
      </button>

      <button class="btn btn-sm btn-default dropdown-toggle">
        <span class="caret" data-caret="&#9660;"></span>
      </button>

      <ul class="dropdown-menu">
        <li ng-repeat="date in periods">
          <a class="clk" ng-click="selectDate(date)">{{ date.key | translate }}</a>
        </li>
      </ul>
    </span>
  </div>

  <div class="pull-right dropdown">
    <button type="button" class="btn btn-sm btn-default dropdown-toggle">
      <i class="glyphicon glyphicon-cog"></i> {{ "REPORT.COLUMNS" | translate }}
    </button>
    <ul class="dropdown-menu">
      <li class="dropdown-header">
        {{ "REPORT.VISIBLE_COLUMNS" | translate }}
      </li>
      <li ng-repeat="column in columns">
        <a class="clk" ng-click="column.visible=!column.visible">
          <i class="glyphicon" ng-class="{'glyphicon-unchecked' : !column.visible, 'glyphicon-check' : !!column.visible}"></i> {{ column.name }}
        </a>
      </li>
    </ul>
  </div>
</nav>

<main class="extend">
  <div class="row" style="height:99%;">
    <div class="col-xs-12" style="height:100%;">
      <div id="generalLedger" class="grid" style="height: 100%; overflow: hidden; outline: 0px; position: relative; font-size: 8pt"></div>
    </div>
  </div>
</main>
