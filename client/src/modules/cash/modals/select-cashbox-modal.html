<div class="modal-header">
  <ol class="headercrumb">
    <li class="static" translate>TREE.CASH_WINDOW</li>
    <li class="title" translate>CASH.SELECTION.TITLE</li>
  </ol>
</div>

<div class="modal-body" data-cashbox-modal>

  <p class ="text-danger" ng-if="!$ctrl.hasCashboxes" translate>
    CASH.SELECTION.NO_CASHBOXE
  </p>
  
  <label class="control-label" translate>CASH.SELECTION.CURRENT_PROJECT_CASHBOXES</label>

  <!-- list of cashboxes -->
  <ul ng-if="$ctrl.hasCurrentProjectCashboxes" class="list-group">
    <li
      class="list-group-item"
      ng-repeat="cashbox in $ctrl.currentProjectCashboxes"
      ng-class="{'active' : $ctrl.selectedCashbox.id === cashbox.id}"
      ng-click="$ctrl.selectCashbox(cashbox.id)"
      style="cursor:pointer;">

      <span id="cashbox-{{ cashbox.id }}">
        <i class="fa fa-inbox"></i> {{ cashbox.label }}
      </span>

      <span ng-show="$ctrl.selectedCashbox.id === cashbox.id" class="badge">
        <i class="fa fa-check"></i>
      </span>
    </li>
  </ul>

  <!-- show message if there are no cashboxes for current project -->
  <p ng-if="!$ctrl.hasCurrentProjectCashboxes && $ctrl.hasCurrentCashboxes" translate>
    CASH.SELECTION.NO_CURRENT_PROJECT_CASHBOXES_ACCESS
  </p>

  <p ng-if="!$ctrl.hasCurrentProjectCashboxes && !$ctrl.hasCurrentCashboxes" translate>
    CASH.SELECTION.NO_CURRENT_PROJECT_CASHBOXES
  </p>


  

  <label class="control-label" translate>CASH.SELECTION.OTHER_PROJECT_CASHBOXES</label>
  <ul ng-if="$ctrl.hasOtherProjectCashboxes" class="list-group">
    <li
      class="list-group-item"
      ng-repeat="cashbox in $ctrl.otherProjectCashboxes"
      ng-class="{'active' : $ctrl.selectedCashbox.id === cashbox.id}"
      ng-click="$ctrl.selectCashbox(cashbox.id)"
      style="cursor:pointer;">

      <span id="cashbox-{{ cashbox.id }}">
        <i class="fa fa-inbox"></i> {{ cashbox.label }}
      </span>

      <span ng-show="$ctrl.selectedCashbox.id === cashbox.id" class="badge">
        <i class="fa fa-check"></i>
      </span>
    </li>
  </ul>

  <p ng-if="!$ctrl.hasOtherProjectCashboxes && $ctrl.hasOtherCashboxes" translate>
    CASH.SELECTION.NO_OTHER_PROJECT_CASHBOXES_ACCESS
  </p>

  <p ng-if="!$ctrl.hasOtherProjectCashboxes && !$ctrl.hasOtherCashboxes" translate>
    CASH.SELECTION.NO_OTHER_PROJECT_CASHBOXES
  </p>

</div>

<div class="modal-footer">
  <button
    type="button"
    class="btn btn-default"
    ui-sref="^.window({ id: $ctrl.selectedCashbox.id })"
    ui-sref-opts="{ reload : true }"
    ng-disabled="!$ctrl.cashboxId"
    translate
    data-cashbox-modal-cancel>
    FORM.BUTTONS.CANCEL
  </button>

  <button
    type="button"
    class="btn btn-primary"
    ui-sref="^.window({ id: $ctrl.selectedCashbox.id })"
    ui-sref-opts="{ reload : true }"
    ng-disabled="!$ctrl.cashboxId && !$ctrl.selectedCashbox.id"
    translate
    data-cashbox-modal-submit>
    FORM.BUTTONS.SUBMIT
  </button>
</div>
