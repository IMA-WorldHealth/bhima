<div class="flex-header static">
  <div class="bhima-title">
    <ol class="headercrumb">
      <li class="static" translate>TREE.STOCK</li>
      <li ng-class="{ 'title' : !StockCtrl.depot.uuid, 'static' : StockCtrl.depot.uuid }">
        <span translate>STOCK.IMPORT.STOCK_FROM_FILE</span>
      </li>
      <li class="title" ng-if="StockCtrl.depot.uuid">
        <span>{{ StockCtrl.depot.text }}</span>
      </li>
    </ol>

    <div class="toolbar">
      <div class="toolbar-item">
        <bh-dropdown-menu>
          <bh-dropdown-menu-item>
            <a href>
              <bh-change-depot on-select="StockCtrl.onChangeDepot(depot)"></bh-change-depot>
            </a>
          </bh-dropdown-menu-item>
        </bh-dropdown-menu>
      </div>
    </div>
  </div>
</div>

<!-- content -->
<div class="flex-content">
  <div class="container-fluid">
    <form name="StockForm" bh-submit="StockCtrl.submit(StockForm)" novalidate>
      <div class="row">
        <div class="col-xs-12 col-md-10 col-md-offset-1">
          <h2 translate>STOCK.IMPORT.ABOUT_DESCRIPTION</h2>

          <h3 class="alert alert-success" ng-show="StockCtrl.depot.uuid">
            <i class="fa fa-home"></i>
            <span>{{ StockCtrl.depot.text }}</span>
          </h3>

          <p class="alert alert-danger" ng-hide="StockCtrl.depot.uuid">
            <i class="fa fa-warning"></i>
            <span translate>STOCK.IMPORT.PLEASE_SELECT_DEPOT</span>
          </p>

          <!-- date -->
          <bh-date-editor
            date-value="StockCtrl.operationDate"
            on-change="StockCtrl.onDateChange(date)">
          </bh-date-editor>

          <p style="margin-top: 1em;" translate>STOCK.IMPORT.DESCRIPTION</p>
          <div class="alert alert-info">
            <span><strong translate>STOCK.IMPORT.TEMPLATE_FILE_DESCRIPTION</strong></span>:
            <a ng-click="StockCtrl.downloadTemplate()" href>
              <i class="fa fa-cloud-download"></i>
              <span translate>STOCK.IMPORT.DOWNLOAD_TEMPLATE_HERE</span>
            </a>

            <h5 style="margin-top: 1em;"><i translate>INVENTORY.IMPORT_INFO</i></h5>
          </div>

          <label translate>STOCK.IMPORT.COLUMNS_INFO</label>:
          <ul>
            <li translate>INVENTORY.INVENTORY_GROUP_INFO</li>
            <li translate>INVENTORY.INVENTORY_TEXT_INFO</li>
            <li translate>INVENTORY.INVENTORY_CODE_INFO</li>
            <li translate>INVENTORY.INVENTORY_TYPE_INFO</li>
            <li translate>INVENTORY.INVENTORY_UNIT_INFO</li>
            <li translate>INVENTORY.INVENTORY_PRICE_INFO</li>
            <li translate>INVENTORY.INVENTORY_CONSUMABLE_INFO</li>
            <li translate>INVENTORY.INVENTORY_IS_ASSET_INFO</li>
            <li translate>INVENTORY.INVENTORY_BRAND_INFO</li>
            <li translate>INVENTORY.INVENTORY_MODEL_INFO</li>
            <li translate>STOCK.IMPORT.STOCK_LOT_LABEL_INFO</li>
            <li translate>STOCK.IMPORT.STOCK_LOT_QUANTITY_INFO</li>
            <li translate>STOCK.IMPORT.STOCK_LOT_EXPIRATION_INFO</li>
            <li translate>STOCK.IMPORT.STOCK_SERIAL_NUMBER_INFO</li>
          </ul>

          <div class="form-group"
            ng-class="{ 'has-error' : StockCtrl.noSelectedFile }">
            <label translate>STOCK.IMPORT.STOCK_FROM_FILE</label>
            <input
              id="import-input"
              accept=".csv"
              class="form-control"
              type="file"
              name="file"
              ng-model="StockCtrl.file"
              ngf-select="StockCtrl.select(StockCtrl.file)">
            <div class="help-block" data-error-message ng-show="StockCtrl.noSelectedFile">
              <i class="fa fa-warning"></i> <span translate>INVENTORY.NO_FILE_SELECTED</span>
            </div>
          </div>

          <bh-loading-button loading-state="StockForm.$loading" disabled="!StockCtrl.depot.uuid || !StockCtrl.file">
            <span translate>FORM.BUTTONS.SUBMIT</span>
          </bh-loading-button>
        </div>
      </div>
    </form>
  </div>
</div>
