<form name="MergePatientsForm" bh-submit="MergePatientsModalCtrl.submit()" novalidate>
  <div class="modal-header">
    <ol class="headercrumb">
      <li>
        <span translate>FORM.LABELS.MERGE_PATIENTS_TO_ONE</span>
      </li>
    </ol>
  </div>

  <div class="modal-body">
    <h4><strong translate>FORM.SELECT.PATIENT_TO_CONSIDER</strong></h4>
    <p>
      <i><span translate>FORM.LABELS.MERGE_PATIENTS_DESC</span></i>
    </p>

    <ul class="list-group">
      <li
        data-reference="{{ p.reference }}"
        style="cursor: pointer;"
        class="list-group-item" 
        ng-class="{'active' : MergePatientsModalCtrl.selected === p.uuid }"
        ng-repeat="p in MergePatientsModalCtrl.patients"
        ng-click="MergePatientsModalCtrl.selectPatient(p.uuid)">
        <span ng-show="MergePatientsModalCtrl.selected === p.uuid" class="badge">
          <i class="fa fa-check"></i>
        </span>
        <span>
          <strong>{{ p.reference }}</strong> - <span>{{ p.display_name }}</span>, <i>{{ p.patientAge }}</i> <br>
          <strong translate>FORM.LABELS.HOSPITAL_NO</strong> : {{ p.hospital_no }}<br>
          <strong translate>FORM.LABELS.GROUP</strong> : {{ p.debtorGroupName }}<br>
          <strong translate>FORM.LABELS.CREATED</strong> : {{ p.registration_date | date }}
        </span>
      </li>
    </ul>
  </div>

  <div class="modal-footer">
    <button data-method="cancel" type="button" class="btn btn-default" ui-sref="patientRegistry">
      <span translate>FORM.BUTTONS.CANCEL</span>
    </button>

    <bh-loading-button loading-state="MergePatientsForm.$loading">
      <span translate>FORM.LABELS.MERGE_PATIENTS</span>
    </bh-loading-button>
  </div>
</form>
  