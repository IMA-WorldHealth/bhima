<fieldset
  ng-form="FiscalYearSelectForm"
  novalidate
  bh-fiscal-period-select>

  <div class="form-group"
    ng-class="{ 'has-error' : FiscalYearSelectForm.$submitted && FiscalYearSelectForm.fiscal.$invalid }">
    
    <label class="control-label" translate>FORM.LABELS.FISCAL_YEAR</label>
    <select
      class="form-control"
      ng-model="$ctrl.selectedFiscal"
      name="fiscal"
      ng-options="fiscal.id as fiscal.label for fiscal in $ctrl.fiscals"
      ng-change="$ctrl.loadPeriod($ctrl.selectedFiscal)"
      data-fiscal-select
      required>
      <option value="" disabled translate>FORM.SELECT.FISCAL_YEAR</option>
    </select>
    <div class="help-block" ng-messages="FiscalYearSelectForm.fiscal.$error" ng-show="FiscalYearSelectForm.$submitted">
      <div ng-messages-include="modules/templates/messages.tmpl.html"></div>
    </div>
  </div>

  <div class="form-group"
    ng-class="{ 'has-error' : FiscalYearSelectForm.$submitted && FiscalYearSelectForm.periodFrom.$invalid }">
    <label class="control-label" translate>FORM.LABELS.PERIOD_FROM</label>
    <select
      class="form-control"
      ng-model="$ctrl.selectedPeriodFrom"
      name="periodFrom"
      ng-options="periodFrom as periodFrom.hrLabel for periodFrom in $ctrl.periods track by periodFrom.id"
      ng-change="$ctrl.onSelectPeriodFrom($ctrl.selectedPeriodFrom)"
      ng-disabled="!$ctrl.selectedFiscal"
      data-period-from-select
      required>
      <option value="" disabled translate>FORM.SELECT.PERIOD</option>
    </select>
    <div class="help-block" ng-messages="FiscalYearSelectForm.periodFrom.$error" ng-show="FiscalYearSelectForm.$submitted">
      <div ng-messages-include="modules/templates/messages.tmpl.html"></div>
    </div>    
  </div>

  <div class="form-group"
    ng-class="{ 'has-error' : FiscalYearSelectForm.$submitted && FiscalYearSelectForm.periodTo.$invalid }">
    <label class="control-label" translate>FORM.LABELS.PERIOD_TO</label>
    <select
      class="form-control"
      ng-model="$ctrl.selectedPeriodTo"
      name="periodTo"
      ng-options="periodTo.hrLabel for periodTo in ($ctrl.periods | filter:$ctrl.filterLaterPeriods) track by periodTo.id"
      ng-change="$ctrl.onSelectPeriodTo($ctrl.selectedPeriodTo)"
      ng-disabled="!$ctrl.selectedFiscal"
      data-period-to-select
      required>
      <option value="" disabled translate>FORM.SELECT.PERIOD</option>
    </select>
    <div class="help-block" ng-messages="FiscalYearSelectForm.periodTo.$error" ng-show="FiscalYearSelectForm.$submitted">
      <div ng-messages-include="modules/templates/messages.tmpl.html"></div>
    </div>     
  </div>
</fieldset>
